#  도어락 및 창문 파손 감지 장치

## 과제 목표

- 천안 역세권, 남산 지구 도시재생 뉴딜 사업지 도어락 및 창문 파손 감지장치 개발
- 천안시 사회적 약자(독거여성, 범죄피해자 등) 대상 도어락 및 창문에 센서 설치로 파손 여부를 감지 및 침입 신호 전송 후 경찰에게 신고 서비스 제공

## 필요성 

주거침입 범죄는 도난 외에도 **성폭행**, **살인** 등 2차 범죄로도 이어져 우리의 삶의 터전을 짓밟아 대책이 시급하다.

그 중 주거침입의 주요 경로로는 유리파손 38%, 출입문 36%, 창문 13% 순으로 나타났다.

한국기술교육대학교 LINK+ 사업단의 졸업작품 전략과제로서 **지역사회기여형**으로 천안시청과 협약하여 작품을 제작한다.

## 개발 기간

2018년 03월 ~ 2018년 10월

## 특징

- **천안시 사회적 약자(노약자, 독거여성, 범죄피해자 등) 대상**으로 도어락 및 창문에 침입자에 의한 파손 감지후 신호 전송
- 전송 받은 신호로 3g dongle을 통해 **112(경찰서)에 문자 신고 서비스**
- 파손을 감지할 수 있는 센서를 통해 **저비용**으로 적용
- 도어락 및 창문 파손 감지 센서와 라즈베리파이는 **BLE(저전력) 통신 이용**

## 사용기술

- 블루투스: 도어락의 인바디와 아웃바디간의 블루투스 통신을 한다.
- 문자 알림 서비스: 이 작품의 사용 대상은 취약계층(노약자)이므로 어플리케이션 사용에는 무리가 있다.
- 무선 통신을 이용한 도어락 제어

## 시스템 구성도

![시스템 구성도1](images\시스템 구성도1.png)

- 라즈베리파이에서는 도어락과 창문에 설치된 센서들을 통해 데이터를 받아옴
- 파이어베이스를 통해서 데이터베이스에 저장
- 저장된 데이터들 중 필요한 데이터들은 애플리케이션을 통해서 사용자에게 제공

## 기능

### 1. 도어락 파손 감지

- 마그네틱 센서를 사용하여 도어락이 현관문과 분리된 파손 감지
- 라즈베리파이에서 BLE 스캔을 계속 하여 마그네틱 도어 센서의 MAC 주소를 가진 비콘 신호가 감지

![도어락 파손 감지 기능](images\도어락 파손 감지 기능.png)

### 2. 창문 파손 감지

-  Sensor Tag에 내장되어 있는 가속도센서를 통해서 라즈베리파이와 BLE통신하여 창문 파손을 감지

### 3. 문자 신고 서비스

- 라즈베리파이에 연결된 3g dongle을 통해서 파손을 감지하고, 파손 감지시 경찰(112)에 문자 신고 서비스 제공

### 4. 창문 침입 감지

- 창문 안과 밖에 인체 감지 센서를 추가하여 밖에서 안으로 침입할 경우 112에게 문자 신고 서비스 제공

### 5. 어플리케이션 연동

- 도어락 파손시 카메라를 통해 동영상 녹화 -> 어플리케이션으로 전송
- 도어락 가까이 접근시 카메라를 통해 사진 촬영 -> 어플리케이션으로 전송
- 창문으로 침입하는 경우를 위해서 창문의 개패 여부 확인
- 경찰 **신고 전화 바로가기** 메뉴 추가

## 연구 내용 

### 1. 도어락

![연구내용-도어락](images\연구내용-도어락.png)

### 2. 창문 파손(충격) 및 침입 감지



![연구내용-창문 파손(충격) 및 침입 감지](images\연구내용-창문 파손(충격) 및 침입 감지.png)

### 3. 문자 신고 서비스



![연구내용-문자신고서비스](images\연구내용-문자신고서비스.png)

### 4-1. 앱-초기 화면



![연구내용-앱초기화면](images\연구내용-앱초기화면.png)

### 4-2. 앱-door 화면



![연구내용-app-door화면](images\연구내용-app-door화면.png)

### 4-3. 앱-window 화면



![연구내용-window화면](images\연구내용-window화면.png)

